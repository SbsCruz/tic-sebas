# MathSound

This repository contains resources developed to create accessible mathematical content through the sonification of equations using SSML and textual descriptions embedded in LaTeX documents. Python, Google Cloud TTS, and Ollama were utilized to implement this solution.

---

## Project Structure

### **`src/public`**
- **`audio/`**: `.mp3` files generated from SSML outputs.
- **`documents/`**: Original and modified `.tex` files with descriptive tags.
- **`extracted/`**: Extracted equations from `.tex` files in `.txt` format.
- **`pdf/`**: PDFs generated from LaTeX files.
- **`responses/`**: SSML and text outputs generated by Ollama.

### **`src/scripts`**
Contains Python scripts for various stages of the process:
1. **`extract-eqs.py`**: Extracts equations from LaTeX files.
2. **`api-ssml.py`**: Generates SSML files and descriptions using Ollama.
3. **`tooltips.py`**: Adds descriptive tags to equations in LaTeX files.
4. **`lattex.py`**: Compiles `.tex` files into PDF documents.
5. **`rules.py`**: Defines rules for generating SSML and textual descriptions.

---

## Workflow

1. **Equation Extraction**  
   Run `extract-eqs.py` to extract equations into a `.txt` file.

2. **Content Generation**  
   Use `api-ssml.py` to create SSML files and textual descriptions with the help of a LLAMA model.

3. **LaTeX Modification**  
   Apply `tooltips.py` to add descriptive tags to equations in `.tex` files.

4. **Final Compilation**  
   Generate accessible PDFs by running `lattex.py`.

---

## Requirements

### Tools
- Python 3.10+
- Google Cloud TTS
- Ollama API
- LaTeX (pdflatex - MikTeX)

### Python Packages
- `re`
- `os`
- `requests`
- `subprocess`

---

## How to Execute

1. **Set up the environment**:  
   Install Python, LaTeX, and configure Google Cloud TTS and Ollama.
   And edit the code so the files that the scripts are going to work with, are the correct.

3. **Extract equations**:
   ```bash
   python src/scripts/extract-eqs.py
   ```
4. Generate SSML and descriptions:
   ```bash
   python src/scripts/api-ssml.py
   ```
5. Add descriptive tags:
   ```bash
   python src/scripts/tooltips.py
   ```
6. Compile the final PDF:
   ```bash
   python src/scripts/lattex.py
   ```

## Contact
- Sebastián Cruz
- Escuela Politécnica Nacional
- sebas.cruz750@gmail.com
- dilan.cruz@epn.edu.ec
